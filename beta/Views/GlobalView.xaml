<UserControl x:Class="beta.Views.GlobalView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:beta.Views"
             xmlns:ui="http://schemas.modernwpf.com/2019"
             xmlns:converters="clr-namespace:beta.Infrastructure.Converters"
             mc:Ignorable="d"
             x:Name="RootFrame"
             d:DesignHeight="450" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance {x:Type local:GlobalView}}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Resources/Templates/LobbyContainerTemplate.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <ScrollViewer Name="Frame">
        <ScrollViewer.Resources>
            <SolidColorBrush x:Key="ScrollBarTrackFillPointerOver" Color="Transparent"/>
            <SolidColorBrush x:Key="ScrollBarTrackFillDisabled" Color="Transparent"/>
            <SolidColorBrush x:Key="ScrollBarTrackFill" Color="Transparent"/>
        </ScrollViewer.Resources>
        <Grid>
            <Canvas>
                <Canvas.Background>
                    <SolidColorBrush Color="Black" Opacity=".5"/>
                </Canvas.Background>
            </Canvas>

            <StackPanel>
                <StackPanel.Resources>
                    <Style x:Key="TextBoxStyle" TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
                        <Setter Property="BorderThickness" Value="0"/>
                    </Style>
                    <SolidColorBrush x:Key="TextControlBorderBrushFocused" Color="Transparent"/>
                    <SolidColorBrush x:Key="TextControlBackgroundFocused" Color="#99000000"/>
                    <Thickness x:Key="TextControlBorderThemeThicknessFocused">0</Thickness>
                </StackPanel.Resources>
                <Border>
                    <TextBox Style="{StaticResource TextBoxStyle}"
                             Text="Global FAForever lobbies"
                             IsHitTestVisible="False"
                             HorizontalAlignment="Left"
                             Padding="20 10"
                             ui:ControlHelper.CornerRadius="6"
                             Margin="30 0 30 30"/>
                </Border>
                <Grid Margin="30 0">
                    <StackPanel Orientation="Horizontal">
                        <StackPanel.Resources>
                            <Style TargetType="ui:ToggleSwitch">
                                <Style.Triggers>
                                    <Trigger Property="IsOn" Value="False">
                                        <Setter Property="BorderBrush" Value="#9a9a9a"/>
                                        <Setter Property="TextElement.Foreground" Value="#9a9a9a"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                            <!--<Style TargetType="Separator">
                                <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseMediumHighBrush}"/>
                                <Setter Property="Margin" Value="30 0"/>
                                <Setter Property="Width" Value="40"/>
                                <Setter Property="LayoutTransform">
                                    <Setter.Value>
                                        <RotateTransform Angle="90"/>
                                    </Setter.Value>
                                </Setter>
                            </Style>-->
                        </StackPanel.Resources>
                        <ui:ToggleSwitch Header="Hide private games"
                                         IsOn="{Binding IsPrivateGamesHidden}"
                                         VerticalAlignment="Top"
                                         Padding="0"
                                         Margin="0 0 -40 0"/>
                    </StackPanel>
                    <TextBox Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                                     VerticalAlignment="Center"
                                     Margin="0 0 34 0"
                                     ui:ControlHelper.PlaceholderText="Search lobby"
                                     Width="200"
                                     BorderThickness="0"
                                     ui:ControlHelper.CornerRadius="6"
                                     Name="SearchBox"/>

                </Grid>
                <ItemsControl Margin="30 0 30 30" ItemsSource="{Binding View.Groups}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <ui:ItemsRepeater ItemsSource="{Binding Items}"
                                                  ItemTemplate="{StaticResource LobbyContainerDefaultTemplate}"
                                                  Background="Transparent">
                                <ui:ItemsRepeater.Layout>
                                    <ui:UniformGridLayout ItemsStretch="Fill"
                                                              ItemsJustification="Start"
                                                              MinItemWidth="300"
                                                              MinItemHeight="160"
                                                              MinColumnSpacing="20"
                                                          MinRowSpacing="8">
                                    </ui:UniformGridLayout>
                                </ui:ItemsRepeater.Layout>
                            </ui:ItemsRepeater>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
